# üõ°Ô∏è Private Stack
—Å–∫–∏–ø—Ç —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞ VPS

> **–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–∏–≤–∞—Ç–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞**  
> –ë–µ–∑ Docker ‚Ä¢ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 1 –ì–ë RAM

##  ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **Xray —Å REALITY + Vision** ‚Äî –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ —Ç—Ä–∞—Ñ–∏–∫ Apple (Safari/iCloud) –∏ Cloudflare
- **–ê–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–∏—Å–∫** —á–µ—Ä–µ–∑ [SearXNG](https://github.com/searxng/searxng) (–ª–æ–∫–∞–ª—å–Ω–æ, –±–µ–∑ –ª–æ–≥–æ–≤, —Å Wolfram Alpha)
- **–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π** —á–µ—Ä–µ–∑ Vaultwarden (self-hosted Bitwarden)
- **–°–∫—Ä—ã—Ç–∏–µ IP** —á–µ—Ä–µ–∑ **Cloudflare Tunnel** (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–æ–¥–¥–æ–º–µ–Ω *.trycloudflare.com)
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞**: ufw + fail2ban
- **–ó–∞–≥–ª—É—à–∫–∞-—Å–∞–π**—Ç (nginx-light) ‚Äî —Å–µ—Ä–≤–µ—Ä –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π HTTPS-—Å–∞–π—Ç
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**: —Å–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ –∏ QR-–∫–æ–¥–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π TLS** —á–µ—Ä–µ–∑ **Let‚Äôs Encrypt** (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º IP.sslip.io)

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- VPS —Å Ubuntu 22.04 –∏–ª–∏ 24.04
- 1 CPU, 1 –ì–ë RAM, 10+ –ì–ë NVMe
- –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã: **443/TCP** –∏ **443/UDP**
- –ü—É–±–ª–∏—á–Ω—ã–π IPv4
> üí° Swap –Ω–∞ 2 –ì–ë —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
curl -sL https://raw.githubusercontent.com/triglavfre/private-stack/main/install | bash
```
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –°–æ–∑–¥–∞—Å—Ç swap (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç Xray (REALITY + Vision)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç SearXNG —á–µ—Ä–µ–∑ —Å–≤–µ—Ä—Ö–±—ã—Å—Ç—Ä—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ uv
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Vaultwarden –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –µ–≥–æ —á–µ—Ä–µ–∑ Cloudflare Tunnel
- –ù–∞—Å—Ç—Ä–æ–∏—Ç nginx-light —Å HTTP ‚Üí HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
- –ó–∞–ø—É—Å—Ç–∏—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π Cloudflare Tunnel (–±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–∞, –±–µ–∑ –¥–æ–º–µ–Ω–∞)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç ufw + fail2ban
- –í—ã–≤–µ–¥–µ—Ç —Å—Å—ã–ª–∫—É REALITY + Vision –∏ QR-–∫–æ–¥

## üì± –ö–ª–∏–µ–Ω—Ç—ã –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞     | –ö–ª–∏–µ–Ω—Ç   | –ì–¥–µ –≤–∑—è—Ç—å                     |
|---------------|----------|-------------------------------|
| **iOS/macOS** | Hiddify  | [GitHub Releases](https://github.com/hiddify/hiddify-app/releases)|
| **Android**   | Hiddify  | [GitHub Releases](https://github.com/hiddify/hiddify-app/releases) |
| **Windows**   | Hiddify  | [GitHub Releases](https://github.com/hiddify/hiddify-app/releases) |

## üîê –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- Xray REALITY: –ª–µ–≥–∏—Ç–∏–º–Ω—ã–π TLS-—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç Safari
- SearXNG –ª–æ–∫–∞–ª—å–Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ `127.0.0.1` ‚Äî **–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ**
- Vaultwarden: –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `*.trycloudflare.com`
- ufw + fail2ban –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ù–µ—Ç Docker, –Ω–µ—Ç –ª–æ–≥–æ–≤, –Ω–µ—Ç –æ–±–ª–∞—á–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üì¶ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
–†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ:
`/var/lib/vaultwarden/db.sqlite3` ‚Äî –ø–∞—Ä–æ–ª–∏
`/usr/local/etc/xray/config.json` ‚Äî –∫–æ–Ω—Ñ–∏–≥ –ø—Ä–æ–∫—Å–∏

## üõ† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–º–∞–Ω–¥—ã:
```
mainuser              # –ø–æ–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫—É –∏ QR-–∫–æ–¥ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
newuser               # —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
rmuser                # —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sharelink             # –≤—ã–±—Ä–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É/QR
vw-url                # —Å—Å—ã–ª–∫–∞ –∏ QR –¥–ª—è Vaultwarden
private-stack-update  # –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å—ë
```
## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```bash
private-stack-update
```
## üîí –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ SSH –ø–æ IP:
```bash
ufw delete allow 22
ufw allow from –í–ê–®_IP to any port 22
```
## üîë –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π: Vaultwarden
Vaultwarden –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É URL –≤–∏–¥–∞:
```
https://<random>.trycloudflare.com
```
- –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ **Cloudflare Tunnel** (–≤–∞—à IP —Å–∫—Ä—ã—Ç)
- TLS –æ—Ç Cloudflare ‚Äî **–±–µ–∑ Let‚Äôs Encrypt**
- –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å **–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ Bitwarden-–∫–ª–∏–µ–Ω—Ç–∞–º–∏**

## üîó –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **LibreWolf** (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π Firefox-—Ñ–æ—Ä–∫):
üëâ (https://librewolf.net/installation/)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Bitwarden:
üëâ(https://addons.mozilla.org/firefox/addon/bitwarden-password-manager/)
3. –í —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –Ω–∞–∂–º–∏—Ç–µ ‚öôÔ∏è ‚Üí **¬´Settings¬ª** ‚Üí **¬´Self-hosted installation¬ª**
4. –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ Vaultwarden (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://vivid-sun-1234.trycloudflare.com`)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
> ‚úÖ –¢–µ–ø–µ—Ä—å –≤—Å–µ –ø–∞—Ä–æ–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –≤–∞—à–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º.
6. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **SearXNG** –¥–ª—è –ø–æ–∏—Å–∫–∞:
```bash
https://127.0.0.1:8888`
```

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è [MIT](LICENSE)
>MIT ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ, –Ω–æ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫.
